jQuery(document).ready(function($){$("div.gmap-form").each(function(){var e=$(this).attr("id"),t=$("#"+e+"-address"),o=$("#"+e+"-button"),a=$("#"+e+"-latitude"),n=$("#"+e+"-longitude"),g=$("#"+e+"-zoom"),l=e+"-location",s=$("#"+l).attr("data-width"),i=$("#"+l).attr("data-height");""!==s&&$("#"+l).css({width:s+"px"}),""!==i&&$("#"+l).css({height:i+"px"});var r=new google.maps.Geocoder,d=new google.maps.LatLng(a.val(),n.val()),c={zoom:parseInt(g.val()),center:d,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},m=new google.maps.Map(document.getElementById(l),c),p=new google.maps.Marker({position:d,title:"Point",map:m,draggable:!0});google.maps.event.addListener(m,"click",function(e){m.setCenter(e.latLng),p.setPosition(e.latLng)}),google.maps.event.addListener(m,"center_changed",function(){a.val(m.getCenter().lat()),n.val(m.getCenter().lng()),g.val(m.getZoom())}),google.maps.event.addListener(m,"zoom_changed",function(){g.val(m.getZoom())}),google.maps.event.addListener(p,"dragend",function(e){a.val(e.latLng.lat()),n.val(e.latLng.lng()),m.setCenter(e.latLng)}),$("a[data-toggle=tab]").click(function(){var e=m.getCenter();google.maps.event.trigger(m,"resize"),m.setCenter(e)}),o.click(function(e){$(this).findGmapAddress(t,r,m,p),e.preventDefault()})}),$.fn.findGmapAddress=function(e,t,o,a){t&&""!==e.val()&&t.geocode({address:e.val()},function(e,t){t===google.maps.GeocoderStatus.OK?(o.setCenter(e[0].geometry.location),a.setPosition(e[0].geometry.location)):alert("Geocode was not successful for the following reason: "+t)})}});